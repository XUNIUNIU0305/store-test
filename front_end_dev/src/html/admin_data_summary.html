@@include('head.inc')
<!-- header start -->
<header class="admin-frame-header">
    <nav class="navbar navbar-default">
        <div class="navbar-header">
            <a class="navbar-brand" href="#top">
                <img alt="logo" src="/images/logo_white.png" height="24">
            </a>
        </div>
        <ul class="nav navbar-nav navbar-left">
            <li>管理控制中心</li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li>
                476644346@qq.com
            </li>
            <li>
                <a href="javascript:void(0)">退出</a>
            </li>
        </ul>
    </nav>
</header>
<!-- header end -->
<!-- aside nav start -->
<aside class="admin-frame-aside" id="aside-menu">
    <ul class="nav nav-pills nav-stacked">
        <li class="collapsed" data-parent="#aside-menu" data-toggle="collapse" href="#aside_menu_1">
            <a href="javascript:void(0)">内容一级标题</a>
        </li>
        <li class="collapsed" data-parent="#aside-menu" data-toggle="collapse" href="#aside_menu_2">
            <a href="javascript:void(0)">内容一级标题</a>
        </li>
        <li class="collapsed" data-parent="#aside-menu" data-toggle="collapse" href="#aside_menu_3">
            <a href="javascript:void(0)">内容一级标题</a>
        </li>
    </ul>
    <ul id="aside_menu_1" class="list-unstyled child-list collapse">
        <li class="active"><a href="#">内容内容1</a></li>
        <li><a href="#">内容内容1</a></li>
        <li><a href="#">内容内容1</a></li>
        <li><a href="#">内容内容1</a></li>
        <li><a href="#">内容内容1</a></li>
        <li><a href="#">内容内容1</a></li>
    </ul>
    <ul id="aside_menu_2" class="list-unstyled child-list collapse">
        <li><a href="#">内容内容2</a></li>
        <li><a href="#">内容内容2</a></li>
        <li><a href="#">内容内容2</a></li>
        <li><a href="#">内容内容2</a></li>
        <li><a href="#">内容内容2</a></li>
        <li><a href="#">内容内容2</a></li>
    </ul>
    <ul id="aside_menu_3" class="list-unstyled child-list collapse">
        <li><a href="#">内容内容3</a></li>
        <li><a href="#">内容内容3</a></li>
        <li><a href="#">内容内容3</a></li>
        <li><a href="#">内容内容3</a></li>
        <li><a href="#">内容内容3</a></li>
        <li><a href="#">内容内容3</a></li>
    </ul>
</aside>
<!-- aside nav end -->
<!-- main area start -->
<div class="admin-frame-main">
    <div class="admin-main-wrap">
        <div class="admin-data-summary">
            <!--nav-->
            <ul class="nav nav-tabs datepicker-nav">
                <li><strong>数据统计</strong></li>
                <li class="pull-right">
                    <div class="query_time in">
                        <div class="input-group">
                            <input type="text" class="form-control date-picker" value="2017-03-01">
                            <span class="input-group-btn">
                                    <button class="btn btn-default" type="button"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                        </div>
                        <button class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </li>
            </ul>
            <div class="row">
                <div class="col-xs-6">
                    <div class="panel red">
                        <div class="panel-heading">
                            <i class="glyphicon glyphicon-chevron-right"></i> 总体消费消费转化率
                            <span class="pull-right">80%</span>
                        </div>
                        <div class="panel-body">
                            <div class="media">
                                <div class="media-left">
                                    <div id="overall_consumption" class="chartGauge"></div>
                                </div>
                                <div class="media-body media-middle">
                                    <h2>总体消费消费转化率</h2>
                                    <p class="text-muted">=吧吧吧吧／吧吧吧吧</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6">
                    <div class="panel yellow">
                        <div class="panel-heading">
                            <i class="glyphicon glyphicon-chevron-right"></i> 总注册转化率
                            <span class="pull-right">50%</span>
                        </div>
                        <div class="panel-body">
                            <div class="media">
                                <div class="media-left">
                                    <div id="apply_consumption" class="chartGauge"></div>
                                </div>
                                <div class="media-body media-middle">
                                    <h2>总注册转换率</h2>
                                    <p class="text-muted">=吧吧吧吧／吧吧吧吧</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6">
                    <div class="panel green">
                        <div class="panel-heading">
                            <i class="glyphicon glyphicon-chevron-right"></i> 当日消费率
                            <span class="pull-right">90%</span>
                        </div>
                        <div class="panel-body">
                            <div class="media">
                                <div class="media-left">
                                    <div id="consumption_consumption" class="chartGauge"></div>
                                </div>
                                <div class="media-body media-middle">
                                    <h2>当日消费率</h2>
                                    <p class="text-muted">=吧吧吧吧／吧吧吧吧</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-6">
                    <div class="panel blue">
                        <div class="panel-heading">
                            <i class="glyphicon glyphicon-chevron-right"></i> 当日总消费额
                            <span class="pull-right">¥551891.00</span>
                        </div>
                        <div class="panel-body">
                            <div class="media">
                                <div class="media-left">
                                    <div class="piggy-bank">
                                        <img src="../images/admin/piggy_bank.png" alt="piggy_bank">
                                    </div>
                                </div>
                                <div class="media-body media-middle">
                                    <h2>¥551891.00</h2>
                                    <p class="text-muted">当日总消费额</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- main area start -->
@@include('footer_admin.inc')
<script>
    $(function () {
        // add locale
        $.fn.datepicker.dates["zh-CN"] = {
            days: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
            daysShort: ["周日", "周一", "周二", "周三", "周四", "周五", "周六"],
            daysMin: ["日", "一", "二", "三", "四", "五", "六"],
            months: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
            monthsShort: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
            today: "今日",
            clear: "清除",
            format: "yyyy年mm月dd日",
            titleFormat: "yyyy年mm月",
            weekStart: 1
        }
        // init the datepicker
        $('.date-picker').datepicker({
            format: 'yyyy-mm-dd',
            language: 'zh-CN'
        });
        // iscroll
        var scrolls = [];
        $('.iscroll_container').each(function () {
            scrolls.push(new IScroll(this, {
                mouseWheel: true,
                scrollbars: true,
                scrollbars: 'custom'
            }))
        })
        // refresh api
        scrolls.forEach(function (scroll) {
            scroll.refresh();
        })

        // charts
        var mock_data = [{
            name: '总体消费消费转化率',
            value: 80
        }, {
            name: '总注册转化率',
            value: 50
        }, {
            name: '当日消费率',
            value: 90
        }]
        var overall_consumption = echarts.init(document.getElementById('overall_consumption'));
        var apply_consumption = echarts.init(document.getElementById('apply_consumption'));
        var consumption_consumption = echarts.init(document.getElementById('consumption_consumption'));
        var consumption_options = [];
        mock_data.forEach(function (_data) {
            consumption_options.push({
                series: [{
                    name: _data.name,
                    type: 'gauge',
                    radius: '100%',
                    splitLine: {
                        show: false,
                    },
                    pointer: {
                        show: true,
                        length: '80%',
                        width: 4,
                    },
                    axisLabel: {
                        show: false,
                    },
                    axisTick: {
                        show: false
                    },
                    itemStyle: {
                        normal: {
                            color: '#666',
                        }
                    },
                    detail: {
                        show: true,
                        width: 100,
                        height: 40,
                        backgroundColor: 'transparent',
                        borderWidth: 0,
                        borderColor: '#ccc',
                        offsetCenter: [0, '50%'],
                        formatter: function (value) {
                            return value + '%';
                        },
                        textStyle: {
                            color: 'auto',
                            fontSize: 16,
                        },
                    },
                    data: [{
                        value: _data.value,
                    }]
                }]
            })
        })
        overall_consumption.setOption(consumption_options[0]);
        apply_consumption.setOption(consumption_options[1]);
        consumption_consumption.setOption(consumption_options[2]);
    })

</script>
