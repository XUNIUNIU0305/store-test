@@include('head.inc')
<style type="text/css">
	body {
		margin: 0;
		padding: 0;
	}
</style>
<main class="container search">
	<!-- 搜索框 -->
	<div class="search-head" id="top">
		<div class="head-left">
			<img src="/images/custom_search/search_36_icon.png" class="search-img">
			<span></span>
			<input type="text" class="search-ipt" placeholder="欧帕斯体验展示柜">
		</div>
		<p class="search-cancel hidden">取消</p>
	</div>
	<!-- 搜索分类展示 -->
	<div class="result-sort-contain">
		<div class="result-sort">
			<div class="sort-title">
				<p>分类</p>
				<div class="sort-words">
					<span>清新剂七字分类</span>	
					<span>清新剂七字分类</span>	
					<span>清新剂七字分类</span>	
				</div>
				<div class="sort-img">
					<img src="/images/custom_search/shadow_fenlei.png">
					<img class="more-sort" src="/images/custom_search/icon_30_more.png">
				</div>
			</div>
			<div class="sort-more-detail hidden">
				<span>清新剂七字分类</span>	
				<span>椅垫四字五六七</span>	
				<span>椅垫五个字</span>
				<span>椅垫五个字</span>
				<span>椅垫五个字</span>
				<span>椅垫五个字</span>
				<span>椅垫五个字</span>
				<span>椅垫五个字</span>
				<span>椅垫五个字</span>
				<span>椅垫五个字</span>
			</div>
		</div>
	</div>
	<!-- 初始页面 -->
	<div class="initial-show">
		<div class="hot-search">
			<div class="hot-title">热门搜索</div>
			<div class="hot-contain">
				<span>空气清新剂</span>
				<span>时尚摆件</span>
				<span>启动电源</span>
			</div>
		</div>
		<div class="hist-search">
			<div class="hist-title">
				<span>历史搜索</span>
				<span class="hist-cancel">清空</span>
			</div>
			<div class="hist-cantain">
				<ul class="uls-list">
					<li>奔驰</li>
					<li>大众系列</li>
					<li>脚垫</li>
					<li>应急电源</li>
					<li>腰靠</li>
					<li>定位</li>
				</ul>
			</div>
		</div>
	</div>
	<!-- 查询展示列表 -->
	<div class="search-list">
		<ul class="uls-list">
			<li>雅迪座套</li>
			<li>牧宝</li>
			<li>强力球渐变座套</li>
			<li>万事达</li>
			<li>雅迪座套</li>
		</ul>
	</div>

	<!-- 搜索结果全部内容 -->
	<div class="result-detail-contail">
		<!-- 遮罩 -->
		<div class="close-mark"></div>
		<!-- 无结果 -->
		<div class="empty">
			<img class="empty-img" src="/images/custom_search/empty1.png">
			<div class="empty-describe">
				没有找到“
				<span>清新剂七字分类</span>
				”相关商品~
			</div>
		</div>
		<!-- 找到商品 -->
		<div class="search-result">
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods1.png">
				<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods2.png">
				<p class="describe">万仕博3D立体坐垫——悦色系列（包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods1.png">
				<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods1.png">
				<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods1.png">
				<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods1.png">
				<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods1.png">
				<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods1.png">
				<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
			<div class="result-goods">
				<img class="goods-png" src="/images/custom_search/goods1.png">
				<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
				<p class="price">￥2620.00</p>
			</div>
		</div>
		<!-- 推荐商品 -->
		<div class="recommend-goods">
			<img class="recom-img" src="/images/custom_search/title.png" >
			<div class="recommend-detail">
				<div class="result-goods">
					<img class="goods-png" src="/images/custom_search/goods1.png">
					<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
					<p class="price">￥2620.00</p>
				</div>
				<div class="result-goods">
					<img class="goods-png" src="/images/custom_search/goods1.png">
					<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
					<p class="price">￥2620.00</p>
				</div>
				<div class="result-goods">
					<img class="goods-png" src="/images/custom_search/goods1.png">
					<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
					<p class="price">￥2620.00</p>
				</div>
				<div class="result-goods">
					<img class="goods-png" src="/images/custom_search/goods1.png">
					<p class="describe">卡仕达·镜e智能后视导航行车记录仪（四台包邮）</p>
					<p class="price">￥2620.00</p>
				</div>
			</div>
		</div>
		<!-- 返回顶部 -->
		<a href="#top" class="go-top" data-link-section>
			<img src="/images/custom_search/top.png">
		</a>
	</div>
</main>
@@include('footer.inc')

<script type="text/javascript">

// fallbacks
(function() {
    var lastTime = 0;
    var vendors = ['webkit', 'moz'];
    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];
    }

    if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = function(callback, element) {
            var currTime = new Date().getTime();
            var timeToCall = Math.max(0, 16.7 - (currTime - lastTime));
            var id = window.setTimeout(function() {
                callback(currTime + timeToCall);
            }, timeToCall);
            lastTime = currTime + timeToCall;
            return id;
        };
    }
    if (!window.cancelAnimationFrame) {
        window.cancelAnimationFrame = function(id) {
            clearTimeout(id);
        };
    }
}());


$(function(){
    // bind scrollTo evt 
    $('[data-link-section]').click(function(e){
        e.stopPropagation();
        e.preventDefault();
        scrollTo(Math.floor($($(this).attr('href'))[0].offsetTop - 45));
        // touch to stop 
        $('main.container').one('touchstart', function(){
            raf_scroll && cancelAnimationFrame(raf_scroll);
        })
    })
    var raf_scroll;

	// scroll animation
	function scrollTo(topVal) {
	    var scrollArea = $('main.container')[0];
	    var currentTop = scrollArea.scrollTop;
	    var maxTop = $('main.container div').eq(0).height() - $('main.container').height();
	    if(maxTop < topVal) topVal = maxTop;

	    switch(true) {
	        case topVal > currentTop:
	            currentTop += 30;
	            if (currentTop >= topVal) currentTop = topVal;
	            scrollArea.scrollTop = currentTop;
	            raf_scroll = requestAnimationFrame(function(){
	                scrollTo(topVal);
	            });
	            break;
	        case topVal < currentTop:
	            currentTop -= 30;
	            if (currentTop <= topVal) currentTop = topVal;
	            scrollArea.scrollTop = currentTop;
	            raf_scroll = requestAnimationFrame(function(){
	                scrollTo(topVal);
	            });
	            break;
	        default:
	            raf_scroll && cancelAnimationFrame(raf_scroll);
	            break;
	    }
	}
	//下拉
	var mark = false;
	function showMenu(type) {
		if( type === 1) {
			$('.sort-words').css('opacity','1');
			$('.sort-more-detail').addClass('hidden');
			$(this).attr('src','/images/custom_search/icon_30_more.png');
			$('.close-mark').addClass('hidden');
		} else {
			$('.sort-words').css('opacity','0');
			$('.sort-more-detail').removeClass('hidden');
			$(this).attr('src','/images/custom_search/icon_30_up_more.png');
			$('.close-mark').removeClass('hidden');
		}
	}
	$('.more-sort').click(function(){
		if(mark) {
			showMenu(1);
		} else {
			showMenu(2);
		}
		mark = !mark;
	});
});
</script>
